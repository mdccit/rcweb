<template>
    <div class="py-12">
        <div class="max-w-7xl mx-auto sm:px-6 lg:px-8">
            <div class="flex gap-x-4"><a
                    href="https://qa1.recruited.qualitapps.com/admin/schools/9c0a3542-8593-429e-b703-2e6afdf86c63"><button
                        class="text-black px-4 py-2 rounded hover:bg-gray-200 transition duration-200 opacity-50">
                        General Details </button></a><a
                    href="https://qa1.recruited.qualitapps.com/admin/schools/9c0a3542-8593-429e-b703-2e6afdf86c63/teams"><button
                        class="text-black px-4 py-2 rounded hover:bg-gray-200 transition duration-200 opacity-50"> Staff
                        &amp; Teams </button></a><a
                    href="https://qa1.recruited.qualitapps.com/admin/schools/9c0a3542-8593-429e-b703-2e6afdf86c63/sync"><button
                        class="text-black px-4 py-2 rounded hover:bg-gray-200 transition duration-200 bg-gray-200">
                        Synchronization </button></a><a
                    href="https://qa1.recruited.qualitapps.com/admin/schools/9c0a3542-8593-429e-b703-2e6afdf86c63/danger-zone"><button
                        class="text-black px-4 py-2 rounded hover:bg-gray-200 transition duration-200 opacity-50">
                        Danger Zone </button></a></div>
            <div class="my-8"></div>
            <div class="">
                <div class="bg-yellow-200 border-l-8 border-yellow-400 w-full text-black px-4 py-4"> This school is not
                    yet connected to a government school. Please connect it to a government school id to enable
                    synchronization. <div class="mt-4"><a
                            href="https://qa1.recruited.qualitapps.com/admin/schools/9c0a3542-8593-429e-b703-2e6afdf86c63/sync/match"><button
                                type="submit"
                                class="border rounded-full shadow-sm font-bold py-2.5 px-8 focus:outline-none focus:ring focus:ring-opacity-50 bg-white hover:bg-gray-100 active:bg-gray-200 text-gray-700 border-gray-300 focus:border-primary-300 focus:ring-primary-200">
                                Connect to a government school </button></a></div>
                </div>
            </div>


            <div class="my-8"></div>
            <div class="text-black">
                <div class="bg-white overflow-hidden shadow-sm sm:rounded-lg p-8">
                    <div class="flex gap-4">
                        <form data-splade-id="wlmf8mHXffUKbci9" method="GET"
                            action="https://qa1.recruited.qualitapps.com/admin/schools/9c0a3542-8593-429e-b703-2e6afdf86c63/sync/match-results">
                            <fieldset>
                                <div class="flex gap-x-8 items-center">
                                    <div class="w-[400px]"><label class="block">
                                            <div class="flex rounded-lg border border-gray-300 shadow-sm"><input
                                                    class="block px-5 py-3 w-full border-0 focus:border-primary-300 focus:ring focus:ring-primary-200 focus:ring-opacity-50 disabled:opacity-50 disabled:bg-gray-50 disabled:cursor-not-allowed rounded-lg"
                                                    name="search" type="text" data-validation-key="search"
                                                    placeholder="Search for a school"></div>
                                        </label><!----></div>
                                    <div class=""><button type="submit"
                                            class="border rounded-full ml-5 shadow-sm font-bold py-2 px-4 focus:outline-none focus:ring focus:ring-opacity-50 bg-blue-500 hover:bg-blue-700 text-white border-transparent focus:border-primary-300 focus:ring-primary-200">
                                            <div class="flex flex-row items-center justify-center"><!----><span
                                                    class=""> Search </span></div>
                                        </button></div>
                                </div>
                            </fieldset>
                        </form>
                    </div>
                </div>
                <div class="my-8"></div>
                <div class="bg-white overflow-hidden shadow-sm sm:rounded-lg p-8 mbb-5">
                    <p>20 results found for "School"</p>
                    <div class="flex gap-4 flex-wrap">
                        <div class="border-2 p-4 rounded w-[500px]">
                            <div>
                                <p>#228635</p>
                                <h3 class="font-bold text-lg">University of Texas Southwestern Medical Center</h3>
                                <p>Dallas, TX</p>
                            </div>
                            <div>
                                <div class="flex items-center mt-4">
                                    <form data-splade-id="Fk7JRQUO1ldJlQCx" method="POST"
                                        action="https://qa1.recruited.qualitapps.com/admin/schools/9c0a3542-8593-429e-b703-2e6afdf86c63/sync/connect">
                                        <fieldset class="">
                                            <div class=""><button type="submit"
                                                    class="border rounded-full shadow-sm font-bold py-2 px-4 focus:outline-none focus:ring focus:ring-opacity-50 bg-white hover:bg-gray-100 text-gray-700 border-gray-300 focus:border-primary-300 focus:ring-primary-200">
                                                    <div class="flex flex-row items-center justify-center"><!----><span
                                                            class=""> Connect </span></div>
                                                </button></div>
                                        </fieldset>
                                    </form>
                                </div>
                            </div>
                        </div>
                        <div class="border-2 p-4 rounded w-[500px]">
                            <div>
                                <p>#146612</p>
                                <h3 class="font-bold text-lg">Lewis University</h3>
                                <p>Romeoville, IL</p>
                            </div>
                            <div>
                                <div class="flex items-center mt-4">
                                    <div class="flex mr-4 mt-2 bg-gray-200 p-2 rounded items-center"><svg
                                            class="w-6 h-6 text-green-500 mr-2" xmlns="http://www.w3.org/2000/svg"
                                            width="24" height="24" viewBox="0 0 24 24" stroke-width="2"
                                            stroke="currentColor" fill="none" stroke-linecap="round"
                                            stroke-linejoin="round">
                                            <path d="M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0"></path>
                                            <path d="M9 12l2 2l4 -4"></path>
                                        </svg>
                                        <p class="max-w-[300px]">This school is already connected to <a
                                                href="https://qa1.recruited.qualitapps.com/admin/schools/9bc8ab9b-ec4b-47a1-bfb2-c992335e2540"
                                                class="text-blue-500 underline">Lewis University</a></p>
                                    </div>
                                    <form data-splade-id="LiEx735Z3lb32qJa" method="POST"
                                        action="https://qa1.recruited.qualitapps.com/admin/schools/9c0a3542-8593-429e-b703-2e6afdf86c63/sync/connect">
                                        <fieldset class="opacity-30">
                                            <div class=""><button type="submit"
                                                    class="border rounded-full shadow-sm font-bold py-2 px-4 focus:outline-none focus:ring focus:ring-opacity-50 bg-white hover:bg-gray-100 text-gray-700 border-gray-300 focus:border-primary-300 focus:ring-primary-200">
                                                    <div class="flex flex-row items-center justify-center"><!----><span
                                                            class=""> Connect </span></div>
                                                </button></div>
                                        </fieldset>
                                    </form>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>
                
                <div class="my-8"></div>

                <div class="bg-white overflow-hidden shadow-sm sm:rounded-lg p-8">
                    <h2 class="text-2xl font-bold">Synchronization History</h2>
                    <div class="my-4"></div>
                    <div class="flex flex-col">
                        <div class="flex gap-4 px-2 py-4 bg-gray-400/50">
                            <div class="w-1/4">
                                <p>Date</p>
                            </div>
                            <div class="w-1/4">
                                <p>Status</p>
                            </div>
                            <div class="w-1/4">
                                <p>Triggered by</p>
                            </div>
                            <div class="w-1/4">
                                <p>Details</p>
                            </div>
                        </div>
                        <div class="flex gap-4 border-b-2 px-2 py-4">
                            <div class="w-1/4">
                                <p>4 months ago</p>
                            </div>
                            <div class="w-1/4">
                                <p>success</p>
                            </div>
                            <div class="w-1/4">
                                <p><a
                                        href="https://qa1.recruited.qualitapps.com/admin/users/9bc8ab38-f3f9-4068-a9cd-5cdf2860cec9">
                                        Admin </a></p>
                            </div>
                            <div class="w-1/4">
                                <p><a
                                        href="https://qa1.recruited.qualitapps.com/admin/schools/9bcd594d-b596-4409-93c0-14cb4dffecc6/sync/604">
                                        View details </a></p>
                            </div>
                        </div>
                        <div class="flex gap-4 border-b-2 px-2 py-4 bg-gray-400/50">
                            <div class="w-1/4">
                                <p>4 months ago</p>
                            </div>
                            <div class="w-1/4">
                                <p>success</p>
                            </div>
                            <div class="w-1/4">
                                <p><a
                                        href="https://qa1.recruited.qualitapps.com/admin/users/9bc8ab38-f3f9-4068-a9cd-5cdf2860cec9">
                                        Admin </a></p>
                            </div>
                            <div class="w-1/4">
                                <p><a
                                        href="https://qa1.recruited.qualitapps.com/admin/schools/9bcd594d-b596-4409-93c0-14cb4dffecc6/sync/368">
                                        View details </a></p>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="my-8"></div>

                <div class="bg-white overflow-hidden shadow-sm sm:rounded-lg p-8"> This school has been matched up to a
                    government school. You can now synchronize the data from their source.<br><br> Gov ID:
                    <strong>152381</strong><br><br><br> Wish to disconnect? <form data-splade-id="NXOBIVwqZ9sKqRVD"
                        method="POST"
                        action="https://qa1.recruited.qualitapps.com/admin/schools/9bcd594d-b596-4409-93c0-14cb4dffecc6/sync/disconnect">
                        <fieldset><input type="hidden" name="_token" autocomplete="off"
                                value="SMCjyTHMYbxsRFsCUr0LzVyPfyxtnWNPTwNnlr09">
                            <div class=""><button type="submit"
                                    class="border rounded-full shadow-sm font-bold py-2 px-4 focus:outline-none focus:ring focus:ring-opacity-50 text-red-500">
                                    Disconnect </button></div>
                        </fieldset>
                    </form><br><br><br> This school was <a
                        href="https://qa1.recruited.qualitapps.com/admin/schools/9bcd594d-b596-4409-93c0-14cb4dffecc6/sync/604">
                        last synchronized 4 months ago</a>. <form data-splade-id="LBk0rcxjTOwaQQ9e" method="POST"
                        action="https://qa1.recruited.qualitapps.com/admin/schools/9bcd594d-b596-4409-93c0-14cb4dffecc6/sync/sync">
                        <fieldset><input type="hidden" name="_token" autocomplete="off"
                                value="SMCjyTHMYbxsRFsCUr0LzVyPfyxtnWNPTwNnlr09">
                            <div class=""><button type="submit"
                                    class="border rounded-full shadow-sm font-bold py-2 px-4 focus:outline-none focus:ring focus:ring-opacity-50 bg-blue-500 hover:bg-blue-700 text-white border-transparent focus:border-primary-300 focus:ring-primary-200">
                                    Synchronize now </button></div>
                        </fieldset>
                    </form>
                </div>

                <div class="my-8"></div>

                <div class="bg-white overflow-hidden shadow-sm sm:rounded-lg p-8">
                    <h2 class="text-2xl font-bold">Settings</h2>
                    <div class="my-4"></div>
                    <h3 class="text-xl font-bold">Data to synchronize</h3>
                    <div class="my-4"></div>
                    <form data-splade-id="L8nybHvgriaatHCQ" method="PUT"
                        action="https://qa1.recruited.qualitapps.com/admin/schools/9bcd594d-b596-4409-93c0-14cb4dffecc6/sync/update-settings">
                        <fieldset>
                            <div class="grid grid-cols-4 gap-4">
                                <div><label class="flex items-center"><input name="gov_sync_settings[name]"
                                            type="checkbox" data-validation-key="gov_sync_settings[name]"
                                            class="rounded-full p-3 border-border-alt text-primary shadow-sm focus:border-primary-300 focus:ring focus:ring-primary-200 focus:ring-opacity-50 disabled:opacity-50"
                                            true-value="true" false-value="false" value="value"><span
                                            class="ml-4">Name</span></label><!----></div>
                                <div><label class="flex items-center"><input name="gov_sync_settings[url]"
                                            type="checkbox" data-validation-key="gov_sync_settings[url]"
                                            class="rounded-full p-3 border-border-alt text-primary shadow-sm focus:border-primary-300 focus:ring focus:ring-primary-200 focus:ring-opacity-50 disabled:opacity-50"
                                            true-value="true" false-value="false" value="value"><span
                                            class="ml-4">Url</span></label><!----></div>
                                <div><label class="flex items-center"><input name="gov_sync_settings[tuition_in_state]"
                                            type="checkbox" data-validation-key="gov_sync_settings[tuition_in_state]"
                                            class="rounded-full p-3 border-border-alt text-primary shadow-sm focus:border-primary-300 focus:ring focus:ring-primary-200 focus:ring-opacity-50 disabled:opacity-50"
                                            true-value="true" false-value="false" value="value"><span
                                            class="ml-4">Tuition in state</span></label><!----></div>
                                <div><label class="flex items-center"><input name="gov_sync_settings[tuition_out_state]"
                                            type="checkbox" data-validation-key="gov_sync_settings[tuition_out_state]"
                                            class="rounded-full p-3 border-border-alt text-primary shadow-sm focus:border-primary-300 focus:ring focus:ring-primary-200 focus:ring-opacity-50 disabled:opacity-50"
                                            true-value="true" false-value="false" value="value"><span
                                            class="ml-4">Tuition out state</span></label><!----></div>
                                <div><label class="flex items-center"><input
                                            name="gov_sync_settings[cost_of_attendance]" type="checkbox"
                                            data-validation-key="gov_sync_settings[cost_of_attendance]"
                                            class="rounded-full p-3 border-border-alt text-primary shadow-sm focus:border-primary-300 focus:ring focus:ring-primary-200 focus:ring-opacity-50 disabled:opacity-50"
                                            true-value="true" false-value="false" value="value"><span class="ml-4">Cost
                                            of attendance</span></label><!----></div>
                                <div><label class="flex items-center"><input name="gov_sync_settings[degrees_offered]"
                                            type="checkbox" data-validation-key="gov_sync_settings[degrees_offered]"
                                            class="rounded-full p-3 border-border-alt text-primary shadow-sm focus:border-primary-300 focus:ring focus:ring-primary-200 focus:ring-opacity-50 disabled:opacity-50"
                                            true-value="true" false-value="false" value="value"><span
                                            class="ml-4">Degrees offered</span></label><!----></div>
                                <div><label class="flex items-center"><input name="gov_sync_settings[address]"
                                            type="checkbox" data-validation-key="gov_sync_settings[address]"
                                            class="rounded-full p-3 border-border-alt text-primary shadow-sm focus:border-primary-300 focus:ring focus:ring-primary-200 focus:ring-opacity-50 disabled:opacity-50"
                                            true-value="true" false-value="false" value="value"><span
                                            class="ml-4">Address</span></label><!----></div>
                                <div><label class="flex items-center"><input name="gov_sync_settings[city]"
                                            type="checkbox" data-validation-key="gov_sync_settings[city]"
                                            class="rounded-full p-3 border-border-alt text-primary shadow-sm focus:border-primary-300 focus:ring focus:ring-primary-200 focus:ring-opacity-50 disabled:opacity-50"
                                            true-value="true" false-value="false" value="value"><span
                                            class="ml-4">City</span></label><!----></div>
                                <div><label class="flex items-center"><input name="gov_sync_settings[state]"
                                            type="checkbox" data-validation-key="gov_sync_settings[state]"
                                            class="rounded-full p-3 border-border-alt text-primary shadow-sm focus:border-primary-300 focus:ring focus:ring-primary-200 focus:ring-opacity-50 disabled:opacity-50"
                                            true-value="true" false-value="false" value="value"><span
                                            class="ml-4">State</span></label><!----></div>
                                <div><label class="flex items-center"><input name="gov_sync_settings[zip]"
                                            type="checkbox" data-validation-key="gov_sync_settings[zip]"
                                            class="rounded-full p-3 border-border-alt text-primary shadow-sm focus:border-primary-300 focus:ring focus:ring-primary-200 focus:ring-opacity-50 disabled:opacity-50"
                                            true-value="true" false-value="false" value="value"><span
                                            class="ml-4">Zip</span></label><!----></div>
                                <div><label class="flex items-center"><input name="gov_sync_settings[coords_lat]"
                                            type="checkbox" data-validation-key="gov_sync_settings[coords_lat]"
                                            class="rounded-full p-3 border-border-alt text-primary shadow-sm focus:border-primary-300 focus:ring focus:ring-primary-200 focus:ring-opacity-50 disabled:opacity-50"
                                            true-value="true" false-value="false" value="value"><span
                                            class="ml-4">Coords lat</span></label><!----></div>
                                <div><label class="flex items-center"><input name="gov_sync_settings[coords_lng]"
                                            type="checkbox" data-validation-key="gov_sync_settings[coords_lng]"
                                            class="rounded-full p-3 border-border-alt text-primary shadow-sm focus:border-primary-300 focus:ring focus:ring-primary-200 focus:ring-opacity-50 disabled:opacity-50"
                                            true-value="true" false-value="false" value="value"><span
                                            class="ml-4">Coords lng</span></label><!----></div>
                                <div><label class="flex items-center"><input name="gov_sync_settings[acceptance_rate]"
                                            type="checkbox" data-validation-key="gov_sync_settings[acceptance_rate]"
                                            class="rounded-full p-3 border-border-alt text-primary shadow-sm focus:border-primary-300 focus:ring focus:ring-primary-200 focus:ring-opacity-50 disabled:opacity-50"
                                            true-value="true" false-value="false" value="value"><span
                                            class="ml-4">Acceptance rate</span></label><!----></div>
                                <div><label class="flex items-center"><input name="gov_sync_settings[graduation_rate]"
                                            type="checkbox" data-validation-key="gov_sync_settings[graduation_rate]"
                                            class="rounded-full p-3 border-border-alt text-primary shadow-sm focus:border-primary-300 focus:ring focus:ring-primary-200 focus:ring-opacity-50 disabled:opacity-50"
                                            true-value="true" false-value="false" value="value"><span
                                            class="ml-4">Graduation rate</span></label><!----></div>
                                <div><label class="flex items-center"><input name="gov_sync_settings[student_count]"
                                            type="checkbox" data-validation-key="gov_sync_settings[student_count]"
                                            class="rounded-full p-3 border-border-alt text-primary shadow-sm focus:border-primary-300 focus:ring focus:ring-primary-200 focus:ring-opacity-50 disabled:opacity-50"
                                            true-value="true" false-value="false" value="value"><span
                                            class="ml-4">Student count</span></label><!----></div>
                                <div><label class="flex items-center"><input
                                            name="gov_sync_settings[earnings_1_year_after_graduation]" type="checkbox"
                                            data-validation-key="gov_sync_settings[earnings_1_year_after_graduation]"
                                            class="rounded-full p-3 border-border-alt text-primary shadow-sm focus:border-primary-300 focus:ring focus:ring-primary-200 focus:ring-opacity-50 disabled:opacity-50"
                                            true-value="true" false-value="false" value="value"><span
                                            class="ml-4">Earnings 1 year after graduation</span></label><!----></div>
                                <div><label class="flex items-center"><input
                                            name="gov_sync_settings[earnings_3_years_after_graduation]" type="checkbox"
                                            data-validation-key="gov_sync_settings[earnings_3_years_after_graduation]"
                                            class="rounded-full p-3 border-border-alt text-primary shadow-sm focus:border-primary-300 focus:ring focus:ring-primary-200 focus:ring-opacity-50 disabled:opacity-50"
                                            true-value="true" false-value="false" value="value"><span
                                            class="ml-4">Earnings 3 years after graduation</span></label><!----></div>
                                <div><label class="flex items-center"><input
                                            name="gov_sync_settings[student_to_faculty_ratio]" type="checkbox"
                                            data-validation-key="gov_sync_settings[student_to_faculty_ratio]"
                                            class="rounded-full p-3 border-border-alt text-primary shadow-sm focus:border-primary-300 focus:ring focus:ring-primary-200 focus:ring-opacity-50 disabled:opacity-50"
                                            true-value="true" false-value="false" value="value"><span
                                            class="ml-4">Student to faculty ratio</span></label><!----></div>
                                <div><label class="flex items-center"><input
                                            name="gov_sync_settings[percentage_of_international_students]"
                                            type="checkbox"
                                            data-validation-key="gov_sync_settings[percentage_of_international_students]"
                                            class="rounded-full p-3 border-border-alt text-primary shadow-sm focus:border-primary-300 focus:ring focus:ring-primary-200 focus:ring-opacity-50 disabled:opacity-50"
                                            true-value="true" false-value="false" value="value"><span
                                            class="ml-4">Percentage of international students</span></label><!---->
                                </div>
                            </div>
                            <div class="my-4"></div>
                            <div class=""><button type="submit"
                                    class="border rounded-full shadow-sm font-bold py-2 px-4 focus:outline-none focus:ring focus:ring-opacity-50 bg-primary-500 hover:bg-primary-700 text-white border-transparent focus:border-primary-300 focus:ring-primary-200">
                                    Save settings </button></div>
                        </fieldset>
                    </form>
                </div>
            </div>
        </div>

    </div>
</template>

<script setup>
import { useUserStore } from '~/stores/userStore'
import schoolTable from '~/components/tables/schoolTables.vue';
import schoolCreateModal from '~/components/shared/schoolCreateModal.vue';

const userStore = useUserStore()

const email = userStore.user?.email
const token = userStore.user?.token

// Reference to the modal component
const modalRef = ref(null);

// Function to open the modal
const openModal = () => {
    modalRef.value.openModal();
    console.log('open')
}

</script>

<style scoped></style>